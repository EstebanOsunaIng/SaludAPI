<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp1.Pages.CitasPage"
             Title="Citas">

    <VerticalStackLayout Padding="20">
        <Label Text="Lista de Citas"
               FontSize="24"
               HorizontalOptions="Center" />

        <CollectionView x:Name="CitasCollection"
                        ItemsSource="{Binding Citas}"
                        Margin="0,20,0,0">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Stroke="LightGray"
                            StrokeShape="RoundRectangle 10"
                            StrokeThickness="1"
                            BackgroundColor="White"
                            Margin="5"
                            Padding="10">
                        <VerticalStackLayout>
                            <Label Text="{Binding Paciente}" 
                                   FontAttributes="Bold"
                                   FontSize="18" />
                            <Label Text="{Binding Doctor}" 
                                   FontSize="14"
                                   TextColor="DarkSlateGray"/>
                            <Label Text="{Binding Fecha, StringFormat='{0:dd/MM/yyyy}'}"
                                   FontSize="14" />
                            <Label Text="{Binding Hora, StringFormat='{0:hh\\:mm}'}"
                                   FontSize="14" />
                            <Label Text="{Binding Motivo}" 
                                   FontSize="12" 
                                   TextColor="Gray" />
                        </VerticalStackLayout>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <Button Text="Nueva Cita"
                Clicked="OnNuevaCitaClicked"
                Margin="0,20,0,0"
                BackgroundColor="#2196F3"
                TextColor="White"
                CornerRadius="8"/>
    </VerticalStackLayout>
</ContentPage>
